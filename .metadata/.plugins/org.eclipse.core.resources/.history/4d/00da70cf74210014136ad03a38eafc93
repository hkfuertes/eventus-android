package es.hkapps.eventus.view.events;

import android.app.Activity;
import android.content.Context;
import android.view.*;
import android.widget.BaseAdapter;

public class CustomListAdapter extends BaseAdapter  {

        private LayoutInflater layoutInflater;
        public ImageLoader imageLoader;
        public RSSFeed _feed;

        public CustomListAdapter(Activity activity, RSSFeed feed) {

            _feed = feed;

            layoutInflater = (LayoutInflater) activity
                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);
            imageLoader = new ImageLoader(activity.getApplicationContext());
        }

        @Override
        public int getCount() {

            // Set the total list item count
            return _feed.getItemCount();
        }

        @Override
        public Object getItem(int position) {
            return position;
        }

        @Override
        public long getItemId(int position) {
            return position;
        }

        @Override
        public View getView(int position, View convertView, ViewGroup parent) {

            // Inflate the item layout and set the views
            View listItem = convertView;
            int pos = position;
            if (listItem == null) {
                listItem = layoutInflater.inflate(R.layout.list_item, null);
            }

            // Initialize the views in the layout
            ImageView iv = (ImageView) listItem.findViewById(R.id.thumb);
            TextView tvTitle = (TextView) listItem.findViewById(R.id.title);
            TextView tvDate = (TextView) listItem.findViewById(R.id.date);

            // Set the views in the layout
            imageLoader.DisplayImage(_feed.getItem(pos).getImage(), iv);
            tvTitle.setText(_feed.getItem(pos).getTitle());
            tvDate.setText(_feed.getItem(pos).getDate());

            return listItem;
        }
    }